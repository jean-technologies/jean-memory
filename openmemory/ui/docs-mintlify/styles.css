/* styles.css */

/* Base styles for light and dark modes */
:root {
  --light-text: #374151;
  --light-headings: #111827;
  --light-links: #7c3aed;
  --light-code: #8b5cf6;
  --dark-text: #d1d5db;
  --dark-headings: #f9fafb;
}

/* Ensure good contrast for code blocks in light mode */
:root[data-theme="light"] {
  --code-background: #f9fafb;
  --code-border: #e5e7eb;
  
  /* Overriding Shiki theme colors for better readability */
  --shiki-color-text: #374151;
  --shiki-color-background: #f9fafb;
  --shiki-token-keyword: #7c3aed;
  --shiki-token-string: #2563eb;
  --shiki-token-function: #db2777;
  --shiki-token-punctuation: #4b5563;
  --shiki-token-comment: #6b7280;
  --shiki-token-constant: #f59e0b;
  --shiki-token-parameter: #10b981;
}

/* Ensure good contrast for code blocks in dark mode */
:root[data-theme="dark"] {
  --code-background: #1f2937;
  --code-border: #374151;

  /* Overriding Shiki theme colors for dark mode */
  --shiki-color-text: #d1d5db;
  --shiki-color-background: #1f2937;
  --shiki-token-keyword: #a78bfa;
  --shiki-token-string: #60a5fa;
  --shiki-token-function: #f472b6;
  --shiki-token-punctuation: #9ca3af;
  --shiki-token-comment: #6b7280;
  --shiki-token-constant: #fbbf24;
  --shiki-token-parameter: #34d399;
}

/* Force dark text in light mode for general elements */
:root[data-theme="light"] {
  --tw-prose-body: var(--light-text) !important;
  --tw-prose-headings: var(--light-headings) !important;
  --tw-prose-lead: #4b5563 !important;
  --tw-prose-links: var(--light-links) !important;
  --tw-prose-bold: var(--light-headings) !important;
  --tw-prose-counters: #6b7280 !important;
  --tw-prose-bullets: #6b7280 !important;
  --tw-prose-hr: #e5e7eb !important;
  --tw-prose-quotes: var(--light-headings) !important;
  --tw-prose-quote-borders: #e5e7eb !important;
  --tw-prose-captions: #6b7280 !important;
  --tw-prose-code: var(--light-code) !important;
  --tw-prose-pre-code: var(--shiki-color-text) !important;
  --tw-prose-pre-bg: var(--shiki-color-background) !important;
  --tw-prose-th-borders: #d1d5db !important;
  --tw-prose-td-borders: #e5e7eb !important;
}

/* General text elements in light mode */
[data-theme="light"] * {
  color: var(--light-text);
}

[data-theme="light"] h1,
[data-theme="light"] h2,
[data-theme="light"] h3,
[data-theme="light"] h4,
[data-theme="light"] h5,
[data-theme="light"] h6 {
  color: var(--light-headings) !important;
}

[data-theme="light"] p,
[data-theme="light"] li,
[data-theme="light"] td,
[data-theme="light"] th {
  color: var(--light-text) !important;
}

[data-theme="light"] strong,
[data-theme="light"] b {
  color: var(--light-headings) !important;
}

[data-theme="light"] code {
  color: var(--light-code) !important;
}

/* Navigation text in light mode */
[data-theme="light"] nav a {
  color: #4b5563 !important;
}

[data-theme="light"] nav a:hover,
[data-theme="light"] nav a[data-active="true"] {
  color: var(--light-headings) !important;
}

/* Particle Background Animation */
.particle-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
  overflow: hidden;
}

.particle {
  position: absolute;
  border-radius: 50%;
  opacity: 0.3;
  animation: float 6s ease-in-out infinite;
}

[data-theme="light"] .particle {
  background: #d1d5db;
}

[data-theme="dark"] .particle {
  background: #6b7280;
}

.particle:nth-child(1) { width: 2px; height: 2px; left: 10%; animation-delay: 0s; animation-duration: 8s; }
.particle:nth-child(2) { width: 3px; height: 3px; left: 20%; animation-delay: 1s; animation-duration: 7s; }
.particle:nth-child(3) { width: 2px; height: 2px; left: 30%; animation-delay: 2s; animation-duration: 9s; }
.particle:nth-child(4) { width: 2px; height: 2px; left: 40%; animation-delay: 0.5s; animation-duration: 6s; }
.particle:nth-child(5) { width: 3px; height: 3px; left: 50%; animation-delay: 1.5s; animation-duration: 8s; }
.particle:nth-child(6) { width: 2px; height: 2px; left: 60%; animation-delay: 2.5s; animation-duration: 7s; }
.particle:nth-child(7) { width: 2px; height: 2px; left: 70%; animation-delay: 0.2s; animation-duration: 9s; }
.particle:nth-child(8) { width: 3px; height: 3px; left: 80%; animation-delay: 1.8s; animation-duration: 6s; }
.particle:nth-child(9) { width: 2px; height: 2px; left: 90%; animation-delay: 2.2s; animation-duration: 8s; }
.particle:nth-child(10) { width: 2px; height: 2px; left: 15%; animation-delay: 0.8s; animation-duration: 7s; }

@keyframes float {
  0%, 100% { transform: translateY(100vh) rotate(0deg); }
  50% { transform: translateY(-10vh) rotate(180deg); }
}

/* Add particles to body */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
  background: 
    radial-gradient(2px 2px at 20px 30px, currentColor 50%, transparent 50%),
    radial-gradient(2px 2px at 40px 70px, currentColor 50%, transparent 50%),
    radial-gradient(3px 3px at 90px 40px, currentColor 50%, transparent 50%),
    radial-gradient(2px 2px at 130px 80px, currentColor 50%, transparent 50%),
    radial-gradient(2px 2px at 160px 30px, currentColor 50%, transparent 50%);
  background-repeat: repeat;
  background-size: 200px 100px;
  opacity: 0.1;
  animation: particleMove 20s linear infinite;
}

[data-theme="light"] body::before {
  color: #9ca3af;
}

[data-theme="dark"] body::before {
  color: #6b7280;
}

@keyframes particleMove {
  0% { transform: translateY(0px); }
  100% { transform: translateY(-100px); }
}

/* Custom logo size */
nav a[href="/"] img {
  height: 80% !important;
  width: auto !important;
}
